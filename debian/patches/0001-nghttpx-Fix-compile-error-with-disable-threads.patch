From: Tomasz Buchert <tomasz@debian.org>
Date: Sun, 13 Sep 2015 09:34:45 +0200
Subject: nghttpx: Fix compile error with --disable-threads

Fixes build error on armel.  This is cherry-picked commit
(33601f1a51e434d9ecec12c45f9c23411293476b) from upstream
repository.
---
 src/shrpx.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/shrpx.cc b/src/shrpx.cc
index 9354a14..554410a 100644
--- a/src/shrpx.cc
+++ b/src/shrpx.cc
@@ -912,8 +912,9 @@ int event_loop() {
   // After that, we drop the root privileges if needed.
   drop_privileges();
 
-#ifndef NOTHREADS
   int rv;
+
+#ifndef NOTHREADS
   sigset_t signals;
   sigemptyset(&signals);
   sigaddset(&signals, REOPEN_LOG_SIGNAL);
